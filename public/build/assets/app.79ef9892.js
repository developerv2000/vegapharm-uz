"serviceWorker"in navigator?navigator.serviceWorker.register(document.location.origin+"/service-worker.js").then(function(e){console.log("Service worker registration succeeded:",e)},function(e){console.log("Service worker registration failed:",e)}):console.log("Service workers are not supported.");$(document).ready(function(){$(".selectize-singular").selectize({}),$(".selectize-singular-linked").selectize({onChange(e){window.location=e}})});$.ajaxSetup({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")}});function m(e,t=500){let o;return(...r)=>{clearTimeout(o),o=setTimeout(()=>e.apply(this,r),t)}}document.querySelector(".scroll-top").addEventListener("click",()=>{document.body.scrollIntoView({block:"start",behavior:"smooth"})});let v=$(".stars-carousel");v.owlCarousel({loop:!0,margin:32,nav:!0,navText:['<span class="material-icons-outlined">west</span>','<span class="material-icons-outlined">east</span>'],dots:!1,responsive:{0:{items:1},991:{items:4}}});let g=$(".corporate-culture-carousel");g.owlCarousel({loop:!0,margin:28,nav:!0,navText:['<span class="material-icons-outlined">west</span>','<span class="material-icons-outlined">east</span>'],items:1,dots:!1});let f=$(".achievements-carousel");f.owlCarousel({loop:!0,margin:28,nav:!0,navText:['<span class="material-icons-outlined">west</span>','<span class="material-icons-outlined">east</span>'],dots:!1,responsive:{0:{items:1},991:{items:4}}});let y=$(".products-carousel");y.owlCarousel({loop:!0,margin:30,nav:!0,navText:['<span class="material-icons-outlined">west</span>','<span class="material-icons-outlined">east</span>'],dots:!1,responsive:{0:{items:1},991:{items:4}}});document.querySelectorAll(".accordion-button").forEach(e=>{e.addEventListener("click",t=>{let o=t.target,n=o.closest(".accordion-buttons-container").querySelector(".accordion-button--active"),i=document.querySelector(`[data-id="${o.dataset.contentId}"]`),c=i.closest(".accordion-content").querySelector(".accordion-content__item--active");o===n?(n.classList.remove("accordion-button--active"),c.classList.remove("accordion-content__item--active")):(n&&n.classList.remove("accordion-button--active"),o.classList.add("accordion-button--active"),c&&c.classList.remove("accordion-content__item--active"),i.classList.add("accordion-content__item--active"))})});document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(t){t.preventDefault(),document.querySelector(this.getAttribute("href")).scrollIntoView({behavior:"smooth"})})});let a=document.querySelector(".greeting-video");if(a){let e=document.querySelector(".video-controller__play-button"),t=document.querySelector(".video-controller__pause-button");a.addEventListener("click",o=>{a.readyState>2&&(a.paused?(t.classList.remove("video-controler__button--visible"),e.classList.add("video-controler__button--visible"),a.play()):(e.classList.remove("video-controler__button--visible"),t.classList.add("video-controler__button--visible"),a.pause()))})}document.querySelector(".greeting__image-container")&&document.querySelector(".greeting__image-container").addEventListener("click",e=>{if(e.target.tagName==="IMG"){let t=e.target.nextElementSibling;e.target.classList.remove("visible"),t?t.classList.add("visible"):e.target.parentElement.firstElementChild.classList.add("visible")}});document.querySelector(".mobile-greeting__image-container")&&document.querySelector(".mobile-greeting__image-container").addEventListener("click",e=>{if(e.target.tagName==="IMG"){let t=e.target.nextElementSibling;e.target.classList.remove("visible"),t?t.classList.add("visible"):e.target.parentElement.firstElementChild.classList.add("visible")}});let d=document.querySelector("#filter");document.querySelectorAll(".prescription-filter__input").forEach(e=>{e.addEventListener("change",t=>{let o=t.target.id=="prescription-otc"?"#prescription-rx":"#prescription-otc";document.querySelector(o).checked=!1,p()})});$("#categories-select").selectize({onChange(e){p()}});function p(){let e=document.querySelector('input[name="prescription"]:checked'),t=e?e.value:"all",o=document.querySelector("#categories-select").value;$.ajax({type:"POST",url:d.dataset.productsAjaxGetUrl,data:{prescription:t,category:o},success:function(r){let n=document.querySelector("#products-list-wrapper");n.innerHTML=r,S(o)},error:function(r){console.log("Ajax products get error: "+r.status+" "+r.statusText)}})}function S(e){let o=window.location.href.split("#"),r=o[0],n=o[1]?"#"+o[1]:"",i="";if(r.includes("?")){let l=r.split("?");r=l[0],i=l[1]}let s=new URLSearchParams(i);s.has("category")?s.set("category",e):s.append("category",e);let c=r+"?"+s.toString()+n;window.history.replaceState(null,"",c)}let u=document.querySelector("#filter-search-input");u&&u.addEventListener("input",m(function(e){b()}));function b(){let e=document.querySelector("#filter-search-input").value;$.ajax({type:"POST",url:d.dataset.productsSearchUrl,data:{keyword:e},success:function(t){let o=document.querySelector("#filter-search-dropdown");o.innerHTML=t},error:function(t){console.log("Ajax products search error: "+t.status+" "+t.statusText)}})}
